@using BitirmeProjesi.Models
@model List<Projeler>


@{
    ViewBag.Title = "AkdProjelerim";
    DbOTOMASYONEntities db = new DbOTOMASYONEntities();
}


<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Scripts/bootstrap.bundle.min.js"></script>
    <script src="~/Scripts/jquery-3.0.0.min.js"></script>
    <link href="~/Content/font-awesome.css" rel="stylesheet" />

    <link href="~/Content/Style.css" rel="stylesheet" type="text/css" />
</head>

<body class="bga">

    <div id="wrapper">
        <div class="overlay"></div>
        <!-- Sidebar -->
        <nav class="navbar navbar-inverse fixed-top" id="sidebar-wrapper" role="navigation" style="background-color:#f8fafa">
            <ul class="nav sidebar-nav">

                <div class="py-4 px-3 mb-4 bg-light">
                    <div class="media d-flex align-items-center" style="width:195px">
                        <img src="https://www.afmec.org/images/user-icon2.png" alt="..." width="65" class="mr-3 rounded-circle img-thumbnail shadow-sm">
                        <div class="media-body">
                            <h4 class="m-0">@Session["AkademisyenAdi"] @Session["AkademisyenSoyadi"]</h4>

                            <p class="font-weight-light text-muted mb-0">Öğretmen ID : @Session["AkademisyenId"]</p>

                        </div>
                    </div>
                </div>


                <li><a href="~/OgretmenEdit/OgretmenEdit/@Session["AkademisyenId"]" style="color:black">Profil Ayarları</a></li>
                <li><a href="/Akademisyenler/AkdProjelerim/@Session["AkademisyenId"]" style="color:black">Projelerim</a></li>
                <li><a href="/OgrenciLogin/LogOut" style="color:black">Çıkış Yap</a></li> 


            </ul>

        </nav>
        <!-- /#sidebar-wrapper -->
        <!-- Page Content -->
        <div id="page-content-wrapper">
            <button type="button" class="hamburger animated fadeInLeft is-closed" data-toggle="offcanvas">
                <span class="hamb-top"></span>
                <span class="hamb-middle"></span>
                <span class="hamb-bottom"></span>
            </button>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2" style="margin-left:0%">

                        <div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

        <div id="İcerik" style="margin-left:auto; margin-right:200px">

        <h2 style="margin-top:0px">Projelerim</h2>
            <hr />
        <a href="/Akademisyenler/AkdProjeEkle" class="btn btn-info">Yeni Proje Ekle</a>
        <br /><br />
        <table class="table">

            <tr class="thead-dark">
                <th scope="col"> ID </th>
                <th scope="col"> Projelerim </th>
                <th scope="col"> Açıklamalar </th>
                <th scope="col">Ogrenci Ad</th>
                <th scope="col">Ogrenci Soyad</th>
                <th scope="col"> Sil </th>
                <th scope="col"> Güncelle </th>


            </tr>
            <tbody>
                @foreach (var prj in Model)
                {
                    string ButtonStatus = ""; // disabled
                    string ograd = "";
                    string ogrsoyad = "";

                    var kontrol = db.Öğrenciler.SingleOrDefault(Öğrenciler => Öğrenciler.Proje_Id == prj.Proje_Id);


                    if (kontrol != null)
                    {
                        ButtonStatus = "disabled";
                        ograd = kontrol.OgrenciAd;
                        ogrsoyad = kontrol.OgrenciSoyad;


                    }
                    

                    <tr>
                        <td>@prj.Proje_Id</td>
                        <td>@prj.ProjeAd</td>
                        <td>@prj.ProjeTanimi</td>
                        <td>@ograd</td>
                        <td>@ogrsoyad</td>
                        <td><a href="/Akademisyenler/AkdProjeSil/@prj.Proje_Id" class="btn btn-dark font-italic @ButtonStatus">Sil</a>
                        <td><a href="/Akademisyenler/AkdProjeGüncelle/@prj.Proje_Id" class="btn btn-danger font-italic">Güncelle</a>
                    </tr>
                }
            </tbody>

        </table>



    </div>

    </div>

    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-8216c69d01441f36c0ea791ae2d4469f0f8ff5326f00ae2d00e4bb7d20e24edb.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.4/js/tether.min.js"></script>

    <script id="rendered-js">
        $(document).ready(function () {
            var trigger = $('.hamburger'),
                overlay = $('.overlay'),
                isClosed = false;

            trigger.click(function () {
                hamburger_cross();
            });

            function hamburger_cross() {

                if (isClosed == true) {
                    overlay.hide();
                    trigger.removeClass('is-open');
                    trigger.addClass('is-closed');
                    isClosed = false;
                } else {
                    overlay.show();
                    trigger.removeClass('is-closed');
                    trigger.addClass('is-open');
                    isClosed = true;
                }
            }

            $('[data-toggle="offcanvas"]').click(function () {
                $('#wrapper').toggleClass('toggled');
            });
        });
    </script>


    
</body>
</html>
